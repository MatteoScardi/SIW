<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Home</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Benvenuto nel Sistema Informativo Libri!</h1>

    <div sec:authorize="isAuthenticated()">
        <p>Sei loggato come: <span sec:authentication="name"></span></p>
        <p>Ruoli: <span sec:authentication="authorities"></span></p>
        <form th:action="@{/logout}" method="post">
            <button type="submit">Logout</button>
        </form>
    </div>

    <div sec:authorize="isAnonymous()">
        <p><a th:href="@{/login}">Accedi</a> o <a th:href="@{/register}">Registrati</a></p>
    </div>

    <h2>Informazioni sui Libri e Autori</h2>
    <p><a th:href="@{/books}">Consulta i libri</a></p>
    <p><a th:href="@{/authors}">Consulta gli autori</a></p>

    <div sec:authorize="hasAuthority('ADMIN')">
        <h2>Funzionalit√† Amministrative</h2>
        <p><a th:href="@{/admin/addBook}">Aggiungi Libro</a></p>
        <p><a th:href="@{/admin/addAuthor}">Aggiungi Autore</a></p>
    </div>
</body>
</html>